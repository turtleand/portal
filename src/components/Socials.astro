---
import type { SocialLink } from "../config/socials";
import { SOCIAL_LINKS } from "../config/socials";

interface Props {
  centered?: boolean;
}

const { centered = false }: Props = Astro.props;
const activeSocials: SocialLink[] = SOCIAL_LINKS.filter((link) => link.active);
const shouldOpenInNewTab = (href: string) => href.startsWith('http');

---

<ul
  class={`socials flex gap-3 text-offWhite transition-colors ${
    centered ? "justify-center" : "justify-end"
  }`}
>
{activeSocials.map((link) => (
  <li>
    <a
      class="inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/15 p-2 text-offWhite/80 transition-transform hover:rotate-6 hover:text-offWhite focus-visible:rotate-6 focus-visible:text-offWhite focus-visible:outline-none"
      href={link.href}
      aria-label={link.linkTitle}
      title={link.linkTitle}
      target={shouldOpenInNewTab(link.href) ? '_blank' : undefined}
      rel={shouldOpenInNewTab(link.href) ? 'noopener noreferrer' : undefined}
    >
      <span class="sr-only">{link.name}</span>
      {link.icon === "github" && (
        <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6" role="img">
          <path
            fill="currentColor"
            d="M12 .5C5.65.5.5 5.65.5 12.02c0 5.11 3.32 9.44 7.93 10.97.58.11.8-.25.8-.57 0-.28-.01-1.02-.02-2-3.22.7-3.9-1.55-3.9-1.55-.53-1.34-1.3-1.7-1.3-1.7-1.06-.73.08-.72.08-.72 1.17.08 1.79 1.2 1.79 1.2 1.04 1.78 2.73 1.26 3.4.96.11-.75.41-1.26.74-1.55-2.57-.29-5.28-1.29-5.28-5.75 0-1.27.45-2.31 1.19-3.13-.12-.29-.52-1.46.11-3.05 0 0 .98-.31 3.21 1.19a11.16 11.16 0 0 1 5.84 0c2.23-1.5 3.2-1.19 3.2-1.19.63 1.59.24 2.76.12 3.05.74.82 1.19 1.86 1.19 3.13 0 4.47-2.72 5.46-5.31 5.75.42.36.79 1.08.79 2.18 0 1.58-.02 2.85-.02 3.24 0 .31.21.68.81.57 4.6-1.53 7.92-5.86 7.92-10.97C23.53 5.65 18.38.5 12 .5z"
          />
        </svg>
      )}
      {link.icon === "mail" && (
        <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6" role="img">
          <path
            fill="none"
            stroke="currentColor"
            stroke-width="1.8"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3.25 6.5A2.75 2.75 0 0 1 6 3.75h12a2.75 2.75 0 0 1 2.75 2.75v10.5A2.75 2.75 0 0 1 18 19.75H6A2.75 2.75 0 0 1 3.25 17V6.5Z"
          />
          <path
            fill="none"
            stroke="currentColor"
            stroke-width="1.8"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m4 7.5 7.42 5.07a1.5 1.5 0 0 0 1.66 0L20.5 7.5"
          />
        </svg>
      )}
    </a>
  </li>
))}
</ul>
